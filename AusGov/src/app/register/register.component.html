<div class="page-container">
    

  <!-- Form for the first page of registration, will perform function from the registration.ts file -->
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

    <div *ngIf="stepOne">
    <div class="form-row">

      <div class="container-content register-container">
        <h1>Basic Information</h1>
        <hr>
        <!-- Created rows for form inputs on same line, here is first and last name -->
        <div class="form-row">
          <div class="form-group col-md-6">
            <label>First Name</label>
            <input type="text" formControlName="firstName" class="form-control" placeholder="First Name" 
                [ngClass]="{ 'is-invalid': submitted && f.firstName.errors }" />
            <div *ngIf="submitted && f.firstName.errors" class="invalid-feedback">
                <div *ngIf="f.firstName.errors.required">First Name is required</div>
            </div>
          </div>

          <div class="form-group col-md-6">
            <label for="lastName">Last Name</label>
            <input type="text" formControlName="lastName" class="form-control" id="lastName" placeholder="Last Name" 
                [ngClass]="{ 'is-invalid': submitted && f.lastName.errors }" />
              <div *ngIf="submitted && f.lastName.errors" class="invalid-feedback">
                <div *ngIf="f.lastName.errors.required">Last Name is required</div>
              </div>
          </div>
        </div>
        
        <!-- Email Address input -->
        <div class="form-group">
          <label for="email">Email Address</label>
          <input type="email" formControlName="email" class="form-control" placeholder="Email Address"
                [ngClass]="{ 'is-invalid': submitted && f.email.errors }" />
            <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
                <div *ngIf="f.email.errors.required">Email is required</div>
                <div *ngIf="f.email.errors.email">Email must be a valid email address</div>
            </div>
        </div>

        <!-- Contact number and date of birth on same line -->
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="phone">Contact Number</label>
            <input type="text" formControlName="phone" class="form-control" id="phone" maxlength="10"
                 [ngClass]="{ 'is-invalid': submitted && f.phone.errors }" />
            <div *ngIf="submitted && f.phone.errors" class="invalid-feedback">
                <div *ngIf="f.phone.errors.required">Contact Number is required</div>
            </div>
          </div>

          <div class="form-group col-md-6">
            <label for="DOB">Date of Birth</label>
            <input type="date" formControlName="dob" class="form-control" id="DOB" max="9999-12-31"
                [ngClass]="{ 'is-invalid': submitted && f.dob.errors }" />
            <div *ngIf="submitted && f.dob.errors" class="invalid-feedback">
                <div *ngIf="f.dob.errors.required">Date of Birth is Required</div>
            </div>
          </div>
        </div>
        
        <!-- Address input -->
        <div class="form-group">
          <label for="inputAddress">Address</label>
          <input type="text" formControlName="address" class="form-control" id="inputAddress" placeholder="123 Name Street"
              [ngClass]="{ 'is-invalid': submitted && f.address.errors }" />
          <div *ngIf="submitted && f.address.errors" class="invalid-feedback">
            <div *ngIf="f.address.errors.required">Address is Required</div>
          </div>
        </div>

        <!-- Suburb -->
        <div class="form-group">
          <label for="inputAddress2">Suburb</label>
          <input type="text" formControlName="suburb" class="form-control" id="inputAddress2" placeholder="Suburb"
              [ngClass]="{ 'is-invalid': submitted && f.suburb.errors }" />
            <div *ngIf="submitted && f.suburb.errors" class="invalid-feedback">
              <div *ngIf="f.suburb.errors.required">Suburb is Required</div>
            </div>
        </div>

        <!-- Row for city, state and post code all on same line -->
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="inputCity">City</label>
            <input type="text" formControlName="city" class="form-control" id="inputCity"
                [ngClass]="{ 'is-invalid': submitted && f.city.errors }" />
            <div *ngIf="submitted && f.city.errors" class="invalid-feedback">
              <div *ngIf="f.city.errors.required">Suburb is Required</div>
            </div>
          </div>

          <!-- Have selectable elements as each state of Australia -->
          <div class="form-group col-md-4">
            <label for="inputState">State</label>
            <select id="inputState" class="form-control">
              <option selected>Choose...</option>
              <option>ACT</option>
              <option>NSW</option>
              <option>NT</option>
              <option>QLD</option>
              <option>SA</option>
              <option>TAS</option>
              <option>VIC</option>
              <option>WA</option>
            </select>
          </div>

          <div class="form-group col-md-2">
            <label for="inputZip">Post Code</label>
            <input type="text" formControlName="postcode" class="form-control" id="inputZip"
                [ngClass]="{ 'is-invalid': submitted && f.postcode.errors }" />
            <div *ngIf="submitted && f.postcode.errors" class="invalid-feedback">
              <div *ngIf="f.postcode.errors.required">Post Code is Required</div>
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="password">Password</label>
            <input type="password" formControlName="password" class="form-control" id="pwd" required minlength="6"
                [ngClass]="{ 'is-invalid': submitted && f.password.errors }"  />

            <!-- Alert message form validation requirements, minlength 6 characters -->
            <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
              <div *ngIf="f.password.errors.required">Password is required</div>
              <div *ngIf="f.password.errors.minlength">Password must be at least 6 characters</div>
            </div>
          </div>
          <div class="form-group col-md-6">
            <label for="password">Re-enter Password</label>
            <input type="password" formControlName="verify" class="form-control" id="repwd" required minlength="6"
                [ngClass]="{ 'is-invalid': submitted && f.verify.errors }"  />

            <!-- Alert message form validation requirements, minlength 6 characters -->
            <div *ngIf="submitted && f.verify.errors" class="invalid-feedback">
                <div *ngIf="f.verify.errors?.MatchPassword">Password not match</div>
            </div>
          </div>
        </div>

        <hr>
        <!-- Row for paragraph and check box -->
        <div class="form-row">
          <div class="col-10">
            <p class="text-sm-center">Would you like to connect to other sources to prefill, or fully complete your infromation? Please check the box if so.</p>
          </div>
          <div class="col-2">
            <div class="form-check">
              <input class="form-check-input form-control-lg" type="checkbox" value="" id="prefillDataCheckBox">
              <label class="form-check-label" for="prefillDataCheckBox">
              </label>
            </div>
          </div>
        </div>


          <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
              <li class="page-item active"><a class="page-link" (click)=onSubmitStepOne()>1</a></li>
              <li class="page-item"><a class="page-link" (click)=onSubmitStepTwo()>2</a></li>
              <li class="page-item"><a class="page-link" (click)=onSubmitStepThree()>3</a></li>
              <li class="page-item"><a class="page-link" (click)=onSubmitStepFour()>4</a></li>
              <li class="page-item"><a class="page-link" (click)=onSubmitStepTwo()>Next</a></li>
            </ul>
          </nav>
       
      </div>
    </div>
    </div>

    <!-- -------------------------------------------------------------------------------------------------- -->

    <div *ngIf="stepTwo">
        <div class="form-row">

            <div class="container-content register-container">
        <h1>Information Shortcuts</h1>
        <hr>
        <p>Please add details of the following;</p>

        <div class="form-row">
          <div *ngIf="uni"><h4><span><button type="button" class="btn buttonForm darkButton linkButton" data-toggle="modal" data-target="#uniLogin">University</button></span></h4></div>
        </div>
        
        <div id="uniLogin" class="modal fade" role="dialog">
            
          <div class="modal-dialog modal-sm">
            <div class="modal-content">
              <h4 class="modal-title">University Connect</h4>
            <div class="modal-body">
              <p>Please use your university details below</p>
              <label>Institute</label>
              <input type="text" class="form-control"/>
              <label>Student ID</label>
              <input type="text" class="form-control"/>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn formButton lightButton" data-dismiss="modal">Cancel</button>
              <button type="button" class="btn formButton darkButton" data-dismiss="modal" (click)=uniRemove()>Submit</button>
            </div>
          </div>
          </div>
        
        </div>
        <div *ngIf="uniMessage" class="form-row alert alert-primary">
          <p>Successfully connected to your University Account, Study details will now be prefilled. Thank you.</p>
        </div>




        <div class="form-row">
          <h4><span><button type="button" class="btn buttonForm darkButton linkButton"> Australian Taxation Office </button></span></h4>
        </div>

        <div class="form-row">
          <h4><span><button type="button" class="btn buttonForm darkButton linkButton" > Department of Transport </button></span></h4>
        </div>

        <div class="form-row">
          <div *ngIf="otherAccounts"><h4><span><button type="button" class="btn buttonForm darkButton linkButton" data-toggle="modal" data-target="#otherAccounts"> Related OurAus Accounts</button> </span></h4></div>
        </div>
        <div id="otherAccounts" class="modal fade" role="dialog">
          <div class="modal-dialog modal-sm">
            <div class="modal-content">
              <h4 class="modal-title">Related AusGov accounts</h4>
            <div class="modal-body">
              <p>Please enter the AusGov ID for your legal guardians and/or your partner</p>
              <label>Parent/Guardian 1 ID</label>
              <input type="text"/>
              <label>Parent/Guardian 2 ID</label>
              <input type="text"/>
              <label>Partner ID</label>
              <input type="text"/>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn formButton lightButton" data-dismiss="modal">Cancel</button>
              <button type="button" class="btn formButton darkButton" data-dismiss="modal" (click)=uniRemove()>Submit</button>
            </div>
          </div>
          </div>
        </div>
        <div *ngIf="otherAccountsMessage" class="form-row alert alert-primary">
          <p>Successfully connected related accounts, these details will now be prefilled. Thank you.</p>
        </div>

            <nav aria-label="Page navigation">
              <ul class="pagination justify-content-center">
                <li class="page-item"><a class="page-link" (click)=onSubmitStepOne()>Previous</a></li>
                <li class="page-item"><a class="page-link" (click)=onSubmitStepOne()>1</a></li>
                <li class="page-item active"><a class="page-link" (click)=onSubmitStepTwo()>2</a></li>
                <li class="page-item"><a class="page-link" (click)=onSubmitStepThree()>3</a></li>
                <li class="page-item"><a class="page-link" (click)=onSubmitStepFour()>4</a></li>
                <li class="page-item"><a class="page-link" (click)=onSubmitStepThree()>Next</a></li>
              </ul>
            </nav>
        </div>
      </div>
    </div>

    <!-- --------------------------------------------------------------------------------------------------- -->

    <div *ngIf="stepThree">
        <div class="form-row">

            <div class="container-content register-container">
          <h1>Photo Verification</h1>
          <hr>

          <div class="container photo">
            <webcam></webcam>
          </div>

          <div class="form-row"></div>


              <nav aria-label="Page navigation">
                <ul class="pagination justify-content-center">
                  <li class="page-item"><a class="page-link" (click)=onSubmitStepTwo()>Previous</a></li>
                  <li class="page-item"><a class="page-link" (click)=onSubmitStepOne()>1</a></li>
                  <li class="page-item"><a class="page-link" (click)=onSubmitStepTwo()>2</a></li>
                  <li class="page-item active"><a class="page-link" (click)=onSubmitStepThree()>3</a></li>
                  <li class="page-item"><a class="page-link" (click)=onSubmitStepFour()>4</a></li>
                  <li class="page-item"><a class="page-link" (click)=onSubmitStepFour()>Next</a></li>
                </ul>
              </nav>
        </div>
      </div>
    </div>

    <!-- --------------------------------------------------------------------------------------------- -->

    <div *ngIf="stepFour">
        <div class="form-row">

            <div class="container-content register-container">
          <h1>Confirm Details</h1>
          <hr>
          <div class="accordion" id="accordionExample">
            <div class="card">
              <div class="card-header" id="headingOne">
                <h5 class="mb-0">
                  <button class="btn btn-outline-dark" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                    Basic Information
                  </button>
                </h5>
              </div>
              <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                <div class="card-body">
                  <p><span>First Name:  {{ firstName }} </span></p>
                  <p><span>Last Name: {{ lastName }} </span></p>
                  <p><span>Email Address: {{ email }} </span></p>
                  <p><span>Phone Number: {{ phone }} </span></p>
                  <p><span>Date of Birth: {{ dob }} </span></p>
                  <p><span>Address: {{ address }} </span></p>
                  <p><span>Suburb: {{ suburb }} </span></p>
                  <p><span>City: {{ city }} </span></p>
                  <p><span>Post Code: {{ postcode }} </span></p>
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header" id="headingTwo">
                <h5 class="mb-0">
                  <button class="btn btn-outline-dark" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    Study Information
                  </button>
                </h5>
              </div>
              <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                <div class="card-body">
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header" id="headingThree">
                <h5 class="mb-0">
                  <button class="btn btn-outline-dark" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                    Work Information
                  </button>
                </h5>
              </div>
              <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
                <div class="card-body">
                </div>
              </div>
            </div>
          </div>
          
              <nav aria-label="Page navigation">
                <ul class="pagination justify-content-center">
                  <li class="page-item"><a class="page-link" (click)=onSubmitStepThree()>Previous</a></li>
                  <li class="page-item"><a class="page-link" (click)=onSubmitStepOne()>1</a></li>
                  <li class="page-item"><a class="page-link" (click)=onSubmitStepTwo()>2</a></li>
                  <li class="page-item"><a class="page-link" (click)=onSubmitStepThree()>3</a></li>
                  <li class="page-item active"><a class="page-link" (click)=onSubmitStepFour()>4</a></li>
                </ul>
              </nav>

            <div class="row">
              <button type="submit" class="btn buttonForm center-button darkButton">Finish</button> 
          </div>
        </div>
      </div>
    </div>
  </form>
</div>